{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nconst FlightsAPI = (searchDate, searchText) => {\n  _s();\n  const [apiData, setApiData] = useState([]);\n  const currentTimeInSeconds = Math.floor(Date.now() / 1000);\n  const twoYearsAgo = currentTimeInSeconds - 2 * 365 * 24 * 60 * 60 + 43200; // Hace 2 a単os\n  const twoYearsAgoPlusOneHour = twoYearsAgo + 3600 + 43200; // Hace 2 a単os y 1 hora\n\n  const fetchData = async () => {\n    try {\n      const response = await axios.get('https://opensky-network.org/api/flights/arrival', {\n        params: {\n          airport: searchText || 'EDDF',\n          begin: searchDate ? Math.floor(new Date(searchDate).getTime() / 1000) : twoYearsAgo,\n          end: searchDate ? Math.floor(new Date(searchDate).getTime() / 1000) + 3600 : twoYearsAgoPlusOneHour\n        }\n      });\n      setApiData(response.data);\n    } catch (error) {\n      console.error('Error fetching flight data:', error);\n    }\n  };\n  useEffect(() => {\n    fetchData();\n  }, []);\n  return {\n    apiData,\n    fetchData\n  };\n};\n_s(FlightsAPI, \"XS4vxfgOwg6YXXgDtcewhgQYniU=\");\n_c = FlightsAPI;\nexport default FlightsAPI;\nvar _c;\n$RefreshReg$(_c, \"FlightsAPI\");","map":{"version":3,"names":["useState","useEffect","axios","FlightsAPI","searchDate","searchText","_s","apiData","setApiData","currentTimeInSeconds","Math","floor","Date","now","twoYearsAgo","twoYearsAgoPlusOneHour","fetchData","response","get","params","airport","begin","getTime","end","data","error","console","_c","$RefreshReg$"],"sources":["/Users/joseluisps21/Desktop/azultypescript/project/my-ts-app/src/api/flightsAPI.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport axios from 'axios';\n\ninterface FlightData {\n    icao24: string;\n    firstSeen: number;\n    estDepartureAirport: string;\n    lastSeen: number;\n    estArrivalAirport: string;\n    callsign: string;\n    estDepartureAirportHorizDistance: number;\n    estDepartureAirportVertDistance: number;\n    estArrivalAirportHorizDistance: number;\n    estArrivalAirportVertDistance: number;\n    departureAirportCandidatesCount: number;\n    arrivalAirportCandidatesCount: number;\n}\n\nconst FlightsAPI = (searchDate: string, searchText: string): { apiData: FlightData[]; fetchData: () => void } => {\n    const [apiData, setApiData] = useState<FlightData[]>([]);\n    const currentTimeInSeconds = Math.floor(Date.now() / 1000);\n    const twoYearsAgo = currentTimeInSeconds - 2 * 365 * 24 * 60 * 60 + 43200; // Hace 2 a単os\n    const twoYearsAgoPlusOneHour = twoYearsAgo + 3600 + 43200; // Hace 2 a単os y 1 hora\n\n    const fetchData = async () => {\n        try {\n            const response = await axios.get(\n                'https://opensky-network.org/api/flights/arrival',\n                {\n                    params: {\n                        airport: searchText || 'EDDF',\n                        begin: searchDate ? Math.floor(new Date(searchDate).getTime() / 1000) : twoYearsAgo,\n                        end: searchDate ? Math.floor(new Date(searchDate).getTime() / 1000) + 3600 : twoYearsAgoPlusOneHour,\n                    },\n                }\n            );\n\n            setApiData(response.data);\n        } catch (error) {\n            console.error('Error fetching flight data:', error);\n        }\n    };\n\n    useEffect(() => {\n        fetchData();\n    }, []);\n\n    return { apiData, fetchData };\n};\n\nexport default FlightsAPI;\n\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAiBzB,MAAMC,UAAU,GAAGA,CAACC,UAAkB,EAAEC,UAAkB,KAAuD;EAAAC,EAAA;EAC7G,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAe,EAAE,CAAC;EACxD,MAAMS,oBAAoB,GAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;EAC1D,MAAMC,WAAW,GAAGL,oBAAoB,GAAG,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,KAAK,CAAC,CAAC;EAC3E,MAAMM,sBAAsB,GAAGD,WAAW,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC;;EAE3D,MAAME,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC1B,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMf,KAAK,CAACgB,GAAG,CAC5B,iDAAiD,EACjD;QACIC,MAAM,EAAE;UACJC,OAAO,EAAEf,UAAU,IAAI,MAAM;UAC7BgB,KAAK,EAAEjB,UAAU,GAAGM,IAAI,CAACC,KAAK,CAAC,IAAIC,IAAI,CAACR,UAAU,CAAC,CAACkB,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,GAAGR,WAAW;UACnFS,GAAG,EAAEnB,UAAU,GAAGM,IAAI,CAACC,KAAK,CAAC,IAAIC,IAAI,CAACR,UAAU,CAAC,CAACkB,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,IAAI,GAAGP;QACjF;MACJ,CACJ,CAAC;MAEDP,UAAU,CAACS,QAAQ,CAACO,IAAI,CAAC;IAC7B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACvD;EACJ,CAAC;EAEDxB,SAAS,CAAC,MAAM;IACZe,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAET,OAAO;IAAES;EAAU,CAAC;AACjC,CAAC;AAACV,EAAA,CA9BIH,UAAU;AAAAwB,EAAA,GAAVxB,UAAU;AAgChB,eAAeA,UAAU;AAAC,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}